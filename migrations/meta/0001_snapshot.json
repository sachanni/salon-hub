{
  "id": "fc7f0a38-92d2-4a75-b4d3-b6b224545eae",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.ab_test_campaigns": {
      "name": "ab_test_campaigns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "campaign_name": {
          "name": "campaign_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "base_template_id": {
          "name": "base_template_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "test_type": {
          "name": "test_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "target_segment_id": {
          "name": "target_segment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sample_size_percentage": {
          "name": "sample_size_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "test_duration": {
          "name": "test_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 7
        },
        "confidence_level": {
          "name": "confidence_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 95
        },
        "success_metric": {
          "name": "success_metric",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'open_rate'"
        },
        "winner_selection_criteria": {
          "name": "winner_selection_criteria",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'statistical_significance'"
        },
        "auto_optimization": {
          "name": "auto_optimization",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "ab_test_campaigns_salon_id_idx": {
          "name": "ab_test_campaigns_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ab_test_campaigns_status_idx": {
          "name": "ab_test_campaigns_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ab_test_campaigns_test_type_idx": {
          "name": "ab_test_campaigns_test_type_idx",
          "columns": [
            {
              "expression": "test_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ab_test_campaigns_started_at_idx": {
          "name": "ab_test_campaigns_started_at_idx",
          "columns": [
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ab_test_campaigns_completed_at_idx": {
          "name": "ab_test_campaigns_completed_at_idx",
          "columns": [
            {
              "expression": "completed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ab_test_campaigns_salon_id_salons_id_fk": {
          "name": "ab_test_campaigns_salon_id_salons_id_fk",
          "tableFrom": "ab_test_campaigns",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ab_test_campaigns_base_template_id_message_templates_id_fk": {
          "name": "ab_test_campaigns_base_template_id_message_templates_id_fk",
          "tableFrom": "ab_test_campaigns",
          "tableTo": "message_templates",
          "columnsFrom": [
            "base_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "ab_test_campaigns_target_segment_id_customer_segments_id_fk": {
          "name": "ab_test_campaigns_target_segment_id_customer_segments_id_fk",
          "tableFrom": "ab_test_campaigns",
          "tableTo": "customer_segments",
          "columnsFrom": [
            "target_segment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ab_test_campaigns_created_by_users_id_fk": {
          "name": "ab_test_campaigns_created_by_users_id_fk",
          "tableFrom": "ab_test_campaigns",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "sample_size_valid": {
          "name": "sample_size_valid",
          "value": "sample_size_percentage >= 1 AND sample_size_percentage <= 100"
        },
        "test_duration_valid": {
          "name": "test_duration_valid",
          "value": "test_duration >= 1"
        },
        "confidence_level_valid": {
          "name": "confidence_level_valid",
          "value": "confidence_level IN (90, 95, 99)"
        },
        "auto_optimization_valid": {
          "name": "auto_optimization_valid",
          "value": "auto_optimization IN (0,1)"
        }
      },
      "isRLSEnabled": false
    },
    "public.automated_action_logs": {
      "name": "automated_action_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "configuration_id": {
          "name": "configuration_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "test_campaign_id": {
          "name": "test_campaign_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "recommendation_id": {
          "name": "recommendation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "action_type": {
          "name": "action_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "action_description": {
          "name": "action_description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action_data": {
          "name": "action_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_data": {
          "name": "trigger_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'completed'"
        },
        "result_data": {
          "name": "result_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "performance_impact": {
          "name": "performance_impact",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "execution_time_ms": {
          "name": "execution_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "automated_action_logs_salon_id_idx": {
          "name": "automated_action_logs_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "automated_action_logs_config_id_idx": {
          "name": "automated_action_logs_config_id_idx",
          "columns": [
            {
              "expression": "configuration_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "automated_action_logs_campaign_id_idx": {
          "name": "automated_action_logs_campaign_id_idx",
          "columns": [
            {
              "expression": "campaign_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "automated_action_logs_test_campaign_id_idx": {
          "name": "automated_action_logs_test_campaign_id_idx",
          "columns": [
            {
              "expression": "test_campaign_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "automated_action_logs_action_type_idx": {
          "name": "automated_action_logs_action_type_idx",
          "columns": [
            {
              "expression": "action_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "automated_action_logs_status_idx": {
          "name": "automated_action_logs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "automated_action_logs_triggered_by_idx": {
          "name": "automated_action_logs_triggered_by_idx",
          "columns": [
            {
              "expression": "triggered_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "automated_action_logs_created_at_idx": {
          "name": "automated_action_logs_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "automated_action_logs_salon_id_salons_id_fk": {
          "name": "automated_action_logs_salon_id_salons_id_fk",
          "tableFrom": "automated_action_logs",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "automated_action_logs_configuration_id_automation_configurations_id_fk": {
          "name": "automated_action_logs_configuration_id_automation_configurations_id_fk",
          "tableFrom": "automated_action_logs",
          "tableTo": "automation_configurations",
          "columnsFrom": [
            "configuration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "automated_action_logs_campaign_id_communication_campaigns_id_fk": {
          "name": "automated_action_logs_campaign_id_communication_campaigns_id_fk",
          "tableFrom": "automated_action_logs",
          "tableTo": "communication_campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "automated_action_logs_test_campaign_id_ab_test_campaigns_id_fk": {
          "name": "automated_action_logs_test_campaign_id_ab_test_campaigns_id_fk",
          "tableFrom": "automated_action_logs",
          "tableTo": "ab_test_campaigns",
          "columnsFrom": [
            "test_campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "automated_action_logs_recommendation_id_optimization_recommendations_id_fk": {
          "name": "automated_action_logs_recommendation_id_optimization_recommendations_id_fk",
          "tableFrom": "automated_action_logs",
          "tableTo": "optimization_recommendations",
          "columnsFrom": [
            "recommendation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.automation_configurations": {
      "name": "automation_configurations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "configuration_name": {
          "name": "configuration_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "enable_variant_generation": {
          "name": "enable_variant_generation",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "max_variants_per_test": {
          "name": "max_variants_per_test",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 4
        },
        "variant_generation_types": {
          "name": "variant_generation_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[\"subject_line\", \"content\", \"send_time\"]'"
        },
        "enable_performance_monitoring": {
          "name": "enable_performance_monitoring",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "monitoring_interval_minutes": {
          "name": "monitoring_interval_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 15
        },
        "performance_alert_threshold": {
          "name": "performance_alert_threshold",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.0500'"
        },
        "enable_auto_winner_selection": {
          "name": "enable_auto_winner_selection",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "auto_winner_confidence_level": {
          "name": "auto_winner_confidence_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 95
        },
        "minimum_test_duration_hours": {
          "name": "minimum_test_duration_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 24
        },
        "minimum_sample_size": {
          "name": "minimum_sample_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "enable_campaign_optimization": {
          "name": "enable_campaign_optimization",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "optimization_types": {
          "name": "optimization_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[\"send_time\", \"frequency\", \"channel\"]'"
        },
        "learning_data_days": {
          "name": "learning_data_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "business_rules": {
          "name": "business_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "automation_configurations_salon_id_idx": {
          "name": "automation_configurations_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "automation_configurations_enabled_idx": {
          "name": "automation_configurations_enabled_idx",
          "columns": [
            {
              "expression": "is_enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "automation_configurations_salon_id_salons_id_fk": {
          "name": "automation_configurations_salon_id_salons_id_fk",
          "tableFrom": "automation_configurations",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "automation_configurations_salon_name_unique": {
          "name": "automation_configurations_salon_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "salon_id",
            "configuration_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "max_variants_valid": {
          "name": "max_variants_valid",
          "value": "max_variants_per_test >= 2 AND max_variants_per_test <= 10"
        },
        "monitoring_interval_valid": {
          "name": "monitoring_interval_valid",
          "value": "monitoring_interval_minutes >= 5 AND monitoring_interval_minutes <= 1440"
        },
        "confidence_level_valid": {
          "name": "confidence_level_valid",
          "value": "auto_winner_confidence_level IN (90, 95, 99)"
        },
        "duration_valid": {
          "name": "duration_valid",
          "value": "minimum_test_duration_hours >= 1 AND minimum_test_duration_hours <= 168"
        },
        "sample_size_valid": {
          "name": "sample_size_valid",
          "value": "minimum_sample_size >= 10"
        }
      },
      "isRLSEnabled": false
    },
    "public.availability_patterns": {
      "name": "availability_patterns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "staff_id": {
          "name": "staff_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "pattern_name": {
          "name": "pattern_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "day_of_week": {
          "name": "day_of_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slot_duration_minutes": {
          "name": "slot_duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "effective_until": {
          "name": "effective_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "availability_patterns_salon_id_salons_id_fk": {
          "name": "availability_patterns_salon_id_salons_id_fk",
          "tableFrom": "availability_patterns",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "availability_patterns_staff_id_staff_id_fk": {
          "name": "availability_patterns_staff_id_staff_id_fk",
          "tableFrom": "availability_patterns",
          "tableTo": "staff",
          "columnsFrom": [
            "staff_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "availability_patterns_staff_salon_fk": {
          "name": "availability_patterns_staff_salon_fk",
          "tableFrom": "availability_patterns",
          "tableTo": "staff",
          "columnsFrom": [
            "staff_id",
            "salon_id"
          ],
          "columnsTo": [
            "id",
            "salon_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "availability_patterns_id_salon_id_unique": {
          "name": "availability_patterns_id_salon_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "id",
            "salon_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.booking_services": {
      "name": "booking_services",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "booking_id": {
          "name": "booking_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "service_id": {
          "name": "service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "price_in_paisa": {
          "name": "price_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sequence": {
          "name": "sequence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "booking_services_booking_salon_fk": {
          "name": "booking_services_booking_salon_fk",
          "tableFrom": "booking_services",
          "tableTo": "bookings",
          "columnsFrom": [
            "booking_id",
            "salon_id"
          ],
          "columnsTo": [
            "id",
            "salon_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "booking_services_service_salon_fk": {
          "name": "booking_services_service_salon_fk",
          "tableFrom": "booking_services",
          "tableTo": "services",
          "columnsFrom": [
            "service_id",
            "salon_id"
          ],
          "columnsTo": [
            "id",
            "salon_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "booking_services_booking_id_sequence_unique": {
          "name": "booking_services_booking_id_sequence_unique",
          "nullsNotDistinct": false,
          "columns": [
            "booking_id",
            "sequence"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.booking_settings": {
      "name": "booking_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'America/New_York'"
        },
        "lead_time_minutes": {
          "name": "lead_time_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "cancel_window_minutes": {
          "name": "cancel_window_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1440
        },
        "buffer_minutes": {
          "name": "buffer_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 15
        },
        "deposit_percentage": {
          "name": "deposit_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "deposit_type": {
          "name": "deposit_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'percentage'"
        },
        "deposit_amount_fixed": {
          "name": "deposit_amount_fixed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "auto_confirm": {
          "name": "auto_confirm",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "allow_cancellation": {
          "name": "allow_cancellation",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "allow_reschedule": {
          "name": "allow_reschedule",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "max_advance_booking_days": {
          "name": "max_advance_booking_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 90
        },
        "max_concurrent_bookings": {
          "name": "max_concurrent_bookings",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "allow_group_bookings": {
          "name": "allow_group_bookings",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "max_group_size": {
          "name": "max_group_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "send_automated_reminders": {
          "name": "send_automated_reminders",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "reminder_hours_before": {
          "name": "reminder_hours_before",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 24
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "booking_settings_salon_id_salons_id_fk": {
          "name": "booking_settings_salon_id_salons_id_fk",
          "tableFrom": "booking_settings",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "booking_settings_salon_id_unique": {
          "name": "booking_settings_salon_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "salon_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "lead_time_positive": {
          "name": "lead_time_positive",
          "value": "lead_time_minutes > 0"
        },
        "cancel_window_positive": {
          "name": "cancel_window_positive",
          "value": "cancel_window_minutes > 0"
        },
        "buffer_minutes_valid": {
          "name": "buffer_minutes_valid",
          "value": "buffer_minutes >= 0"
        },
        "deposit_percentage_valid": {
          "name": "deposit_percentage_valid",
          "value": "deposit_percentage >= 0 AND deposit_percentage <= 100"
        },
        "deposit_type_valid": {
          "name": "deposit_type_valid",
          "value": "deposit_type IN ('fixed', 'percentage')"
        },
        "deposit_amount_fixed_valid": {
          "name": "deposit_amount_fixed_valid",
          "value": "deposit_amount_fixed >= 0"
        },
        "auto_confirm_valid": {
          "name": "auto_confirm_valid",
          "value": "auto_confirm IN (0,1)"
        },
        "allow_cancellation_valid": {
          "name": "allow_cancellation_valid",
          "value": "allow_cancellation IN (0,1)"
        },
        "allow_reschedule_valid": {
          "name": "allow_reschedule_valid",
          "value": "allow_reschedule IN (0,1)"
        },
        "max_advance_days_positive": {
          "name": "max_advance_days_positive",
          "value": "max_advance_booking_days > 0"
        },
        "max_concurrent_positive": {
          "name": "max_concurrent_positive",
          "value": "max_concurrent_bookings >= 1"
        },
        "allow_group_bookings_valid": {
          "name": "allow_group_bookings_valid",
          "value": "allow_group_bookings IN (0,1)"
        },
        "max_group_size_valid": {
          "name": "max_group_size_valid",
          "value": "max_group_size >= 1 AND max_group_size <= 20"
        },
        "send_reminders_valid": {
          "name": "send_reminders_valid",
          "value": "send_automated_reminders IN (0,1)"
        },
        "reminder_hours_valid": {
          "name": "reminder_hours_valid",
          "value": "reminder_hours_before >= 1"
        }
      },
      "isRLSEnabled": false
    },
    "public.bookings": {
      "name": "bookings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "service_id": {
          "name": "service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "staff_id": {
          "name": "staff_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "time_slot_id": {
          "name": "time_slot_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "customer_name": {
          "name": "customer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "customer_email": {
          "name": "customer_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "customer_phone": {
          "name": "customer_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "salon_name": {
          "name": "salon_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_date": {
          "name": "booking_date",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_time": {
          "name": "booking_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "total_amount_paisa": {
          "name": "total_amount_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "payment_method": {
          "name": "payment_method",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pay_now'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "guest_session_id": {
          "name": "guest_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "bookings_salon_id_salons_id_fk": {
          "name": "bookings_salon_id_salons_id_fk",
          "tableFrom": "bookings",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "bookings_service_id_services_id_fk": {
          "name": "bookings_service_id_services_id_fk",
          "tableFrom": "bookings",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "bookings_staff_id_staff_id_fk": {
          "name": "bookings_staff_id_staff_id_fk",
          "tableFrom": "bookings",
          "tableTo": "staff",
          "columnsFrom": [
            "staff_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "bookings_time_slot_id_time_slots_id_fk": {
          "name": "bookings_time_slot_id_time_slots_id_fk",
          "tableFrom": "bookings",
          "tableTo": "time_slots",
          "columnsFrom": [
            "time_slot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "bookings_service_salon_fk": {
          "name": "bookings_service_salon_fk",
          "tableFrom": "bookings",
          "tableTo": "services",
          "columnsFrom": [
            "service_id",
            "salon_id"
          ],
          "columnsTo": [
            "id",
            "salon_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bookings_staff_salon_fk": {
          "name": "bookings_staff_salon_fk",
          "tableFrom": "bookings",
          "tableTo": "staff",
          "columnsFrom": [
            "staff_id",
            "salon_id"
          ],
          "columnsTo": [
            "id",
            "salon_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bookings_timeslot_salon_fk": {
          "name": "bookings_timeslot_salon_fk",
          "tableFrom": "bookings",
          "tableTo": "time_slots",
          "columnsFrom": [
            "time_slot_id",
            "salon_id"
          ],
          "columnsTo": [
            "id",
            "salon_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "bookings_id_salon_id_unique": {
          "name": "bookings_id_salon_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "id",
            "salon_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.budgets": {
      "name": "budgets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "category_id": {
          "name": "category_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "budget_type": {
          "name": "budget_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "budget_amount_paisa": {
          "name": "budget_amount_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "spent_amount_paisa": {
          "name": "spent_amount_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "budget_period": {
          "name": "budget_period",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "alert_threshold": {
          "name": "alert_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 80
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "budgets_salon_idx": {
          "name": "budgets_salon_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "budgets_category_idx": {
          "name": "budgets_category_idx",
          "columns": [
            {
              "expression": "category_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "budgets_period_idx": {
          "name": "budgets_period_idx",
          "columns": [
            {
              "expression": "start_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "end_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "budgets_salon_id_salons_id_fk": {
          "name": "budgets_salon_id_salons_id_fk",
          "tableFrom": "budgets",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "budgets_category_id_expense_categories_id_fk": {
          "name": "budgets_category_id_expense_categories_id_fk",
          "tableFrom": "budgets",
          "tableTo": "expense_categories",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "budgets_created_by_users_id_fk": {
          "name": "budgets_created_by_users_id_fk",
          "tableFrom": "budgets",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "budget_type_valid": {
          "name": "budget_type_valid",
          "value": "budget_type IN ('category', 'overall', 'department')"
        },
        "budget_period_valid": {
          "name": "budget_period_valid",
          "value": "budget_period IN ('monthly', 'quarterly', 'yearly')"
        },
        "is_active_valid": {
          "name": "is_active_valid",
          "value": "is_active IN (0,1)"
        },
        "alert_threshold_valid": {
          "name": "alert_threshold_valid",
          "value": "alert_threshold >= 0 AND alert_threshold <= 100"
        }
      },
      "isRLSEnabled": false
    },
    "public.campaign_optimization_insights": {
      "name": "campaign_optimization_insights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "insight_type": {
          "name": "insight_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "insight_title": {
          "name": "insight_title",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "insight_description": {
          "name": "insight_description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "insight_data": {
          "name": "insight_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "supporting_metrics": {
          "name": "supporting_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "sample_size": {
          "name": "sample_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "data_date_range": {
          "name": "data_date_range",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "is_actionable": {
          "name": "is_actionable",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "recommended_actions": {
          "name": "recommended_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "times_acted_upon": {
          "name": "times_acted_upon",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "average_impact_when_acted_upon": {
          "name": "average_impact_when_acted_upon",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.0000'"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "superseded_by": {
          "name": "superseded_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "campaign_optimization_insights_salon_id_idx": {
          "name": "campaign_optimization_insights_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "campaign_optimization_insights_type_idx": {
          "name": "campaign_optimization_insights_type_idx",
          "columns": [
            {
              "expression": "insight_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "campaign_optimization_insights_status_idx": {
          "name": "campaign_optimization_insights_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "campaign_optimization_insights_actionable_idx": {
          "name": "campaign_optimization_insights_actionable_idx",
          "columns": [
            {
              "expression": "is_actionable",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "campaign_optimization_insights_valid_until_idx": {
          "name": "campaign_optimization_insights_valid_until_idx",
          "columns": [
            {
              "expression": "valid_until",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "campaign_optimization_insights_salon_id_salons_id_fk": {
          "name": "campaign_optimization_insights_salon_id_salons_id_fk",
          "tableFrom": "campaign_optimization_insights",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "confidence_score_valid": {
          "name": "confidence_score_valid",
          "value": "confidence_score >= 0 AND confidence_score <= 1"
        },
        "sample_size_valid": {
          "name": "sample_size_valid",
          "value": "sample_size > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.commission_rates": {
      "name": "commission_rates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "staff_id": {
          "name": "staff_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "service_id": {
          "name": "service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "rate_type": {
          "name": "rate_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "rate_value": {
          "name": "rate_value",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "min_amount_paisa": {
          "name": "min_amount_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_amount_paisa": {
          "name": "max_amount_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "commission_rates_salon_idx": {
          "name": "commission_rates_salon_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "commission_rates_staff_idx": {
          "name": "commission_rates_staff_idx",
          "columns": [
            {
              "expression": "staff_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "commission_rates_service_idx": {
          "name": "commission_rates_service_idx",
          "columns": [
            {
              "expression": "service_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "commission_rates_effective_idx": {
          "name": "commission_rates_effective_idx",
          "columns": [
            {
              "expression": "effective_from",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "effective_to",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "commission_rates_salon_id_salons_id_fk": {
          "name": "commission_rates_salon_id_salons_id_fk",
          "tableFrom": "commission_rates",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "commission_rates_staff_id_staff_id_fk": {
          "name": "commission_rates_staff_id_staff_id_fk",
          "tableFrom": "commission_rates",
          "tableTo": "staff",
          "columnsFrom": [
            "staff_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "commission_rates_service_id_services_id_fk": {
          "name": "commission_rates_service_id_services_id_fk",
          "tableFrom": "commission_rates",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "rate_type_valid": {
          "name": "rate_type_valid",
          "value": "rate_type IN ('percentage', 'fixed_amount', 'tiered')"
        },
        "is_default_valid": {
          "name": "is_default_valid",
          "value": "is_default IN (0,1)"
        },
        "is_active_valid": {
          "name": "is_active_valid",
          "value": "is_active IN (0,1)"
        }
      },
      "isRLSEnabled": false
    },
    "public.commissions": {
      "name": "commissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "staff_id": {
          "name": "staff_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "booking_id": {
          "name": "booking_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "service_id": {
          "name": "service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "rate_id": {
          "name": "rate_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "base_amount_paisa": {
          "name": "base_amount_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "commission_amount_paisa": {
          "name": "commission_amount_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "commission_rate": {
          "name": "commission_rate",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "service_date": {
          "name": "service_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "period_year": {
          "name": "period_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "period_month": {
          "name": "period_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "payment_status": {
          "name": "payment_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "paid_by": {
          "name": "paid_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "payment_method": {
          "name": "payment_method",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_reference": {
          "name": "payment_reference",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "commissions_salon_idx": {
          "name": "commissions_salon_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "commissions_staff_idx": {
          "name": "commissions_staff_idx",
          "columns": [
            {
              "expression": "staff_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "commissions_booking_idx": {
          "name": "commissions_booking_idx",
          "columns": [
            {
              "expression": "booking_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "commissions_period_idx": {
          "name": "commissions_period_idx",
          "columns": [
            {
              "expression": "period_year",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_month",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "commissions_payment_status_idx": {
          "name": "commissions_payment_status_idx",
          "columns": [
            {
              "expression": "payment_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "commissions_service_date_idx": {
          "name": "commissions_service_date_idx",
          "columns": [
            {
              "expression": "service_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "commissions_salon_id_salons_id_fk": {
          "name": "commissions_salon_id_salons_id_fk",
          "tableFrom": "commissions",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "commissions_staff_id_staff_id_fk": {
          "name": "commissions_staff_id_staff_id_fk",
          "tableFrom": "commissions",
          "tableTo": "staff",
          "columnsFrom": [
            "staff_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "commissions_booking_id_bookings_id_fk": {
          "name": "commissions_booking_id_bookings_id_fk",
          "tableFrom": "commissions",
          "tableTo": "bookings",
          "columnsFrom": [
            "booking_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "commissions_service_id_services_id_fk": {
          "name": "commissions_service_id_services_id_fk",
          "tableFrom": "commissions",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "commissions_rate_id_commission_rates_id_fk": {
          "name": "commissions_rate_id_commission_rates_id_fk",
          "tableFrom": "commissions",
          "tableTo": "commission_rates",
          "columnsFrom": [
            "rate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "commissions_paid_by_users_id_fk": {
          "name": "commissions_paid_by_users_id_fk",
          "tableFrom": "commissions",
          "tableTo": "users",
          "columnsFrom": [
            "paid_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "payment_status_valid": {
          "name": "payment_status_valid",
          "value": "payment_status IN ('pending', 'paid', 'cancelled')"
        },
        "period_month_valid": {
          "name": "period_month_valid",
          "value": "period_month >= 1 AND period_month <= 12"
        },
        "period_year_valid": {
          "name": "period_year_valid",
          "value": "period_year >= 2020"
        }
      },
      "isRLSEnabled": false
    },
    "public.communication_analytics": {
      "name": "communication_analytics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "messages_sent": {
          "name": "messages_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "messages_delivered": {
          "name": "messages_delivered",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "messages_opened": {
          "name": "messages_opened",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "messages_clicked": {
          "name": "messages_clicked",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "messages_failed": {
          "name": "messages_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "unsubscribes": {
          "name": "unsubscribes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "bounces": {
          "name": "bounces",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "complaints": {
          "name": "complaints",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "revenue": {
          "name": "revenue",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "communication_analytics_salon_id_idx": {
          "name": "communication_analytics_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "communication_analytics_date_idx": {
          "name": "communication_analytics_date_idx",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "communication_analytics_campaign_id_idx": {
          "name": "communication_analytics_campaign_id_idx",
          "columns": [
            {
              "expression": "campaign_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "communication_analytics_salon_id_salons_id_fk": {
          "name": "communication_analytics_salon_id_salons_id_fk",
          "tableFrom": "communication_analytics",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "communication_analytics_campaign_id_communication_campaigns_id_fk": {
          "name": "communication_analytics_campaign_id_communication_campaigns_id_fk",
          "tableFrom": "communication_analytics",
          "tableTo": "communication_campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "communication_analytics_salon_campaign_date_channel_unique": {
          "name": "communication_analytics_salon_campaign_date_channel_unique",
          "nullsNotDistinct": false,
          "columns": [
            "salon_id",
            "campaign_id",
            "date",
            "channel"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.communication_campaigns": {
      "name": "communication_campaigns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "template_id": {
          "name": "template_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "segment_id": {
          "name": "segment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "total_recipients": {
          "name": "total_recipients",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "messages_sent": {
          "name": "messages_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "messages_delivered": {
          "name": "messages_delivered",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "messages_opened": {
          "name": "messages_opened",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "messages_clicked": {
          "name": "messages_clicked",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "messages_failed": {
          "name": "messages_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "unsubscribes": {
          "name": "unsubscribes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "communication_campaigns_salon_id_idx": {
          "name": "communication_campaigns_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "communication_campaigns_status_idx": {
          "name": "communication_campaigns_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "communication_campaigns_scheduled_at_idx": {
          "name": "communication_campaigns_scheduled_at_idx",
          "columns": [
            {
              "expression": "scheduled_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "communication_campaigns_salon_id_salons_id_fk": {
          "name": "communication_campaigns_salon_id_salons_id_fk",
          "tableFrom": "communication_campaigns",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "communication_campaigns_template_id_message_templates_id_fk": {
          "name": "communication_campaigns_template_id_message_templates_id_fk",
          "tableFrom": "communication_campaigns",
          "tableTo": "message_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "communication_campaigns_segment_id_customer_segments_id_fk": {
          "name": "communication_campaigns_segment_id_customer_segments_id_fk",
          "tableFrom": "communication_campaigns",
          "tableTo": "customer_segments",
          "columnsFrom": [
            "segment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "communication_campaigns_created_by_users_id_fk": {
          "name": "communication_campaigns_created_by_users_id_fk",
          "tableFrom": "communication_campaigns",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.communication_history": {
      "name": "communication_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "customer_id": {
          "name": "customer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "template_id": {
          "name": "template_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "booking_id": {
          "name": "booking_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "recipient": {
          "name": "recipient",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "provider_id": {
          "name": "provider_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "clicked_at": {
          "name": "clicked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "communication_history_salon_id_idx": {
          "name": "communication_history_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "communication_history_customer_id_idx": {
          "name": "communication_history_customer_id_idx",
          "columns": [
            {
              "expression": "customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "communication_history_campaign_id_idx": {
          "name": "communication_history_campaign_id_idx",
          "columns": [
            {
              "expression": "campaign_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "communication_history_booking_id_idx": {
          "name": "communication_history_booking_id_idx",
          "columns": [
            {
              "expression": "booking_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "communication_history_status_idx": {
          "name": "communication_history_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "communication_history_sent_at_idx": {
          "name": "communication_history_sent_at_idx",
          "columns": [
            {
              "expression": "sent_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "communication_history_salon_id_salons_id_fk": {
          "name": "communication_history_salon_id_salons_id_fk",
          "tableFrom": "communication_history",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "communication_history_customer_id_users_id_fk": {
          "name": "communication_history_customer_id_users_id_fk",
          "tableFrom": "communication_history",
          "tableTo": "users",
          "columnsFrom": [
            "customer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "communication_history_campaign_id_communication_campaigns_id_fk": {
          "name": "communication_history_campaign_id_communication_campaigns_id_fk",
          "tableFrom": "communication_history",
          "tableTo": "communication_campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "communication_history_template_id_message_templates_id_fk": {
          "name": "communication_history_template_id_message_templates_id_fk",
          "tableFrom": "communication_history",
          "tableTo": "message_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "communication_history_booking_id_bookings_id_fk": {
          "name": "communication_history_booking_id_bookings_id_fk",
          "tableFrom": "communication_history",
          "tableTo": "bookings",
          "columnsFrom": [
            "booking_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.communication_preferences": {
      "name": "communication_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "customer_id": {
          "name": "customer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "email_opt_in": {
          "name": "email_opt_in",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "sms_opt_in": {
          "name": "sms_opt_in",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "marketing_opt_in": {
          "name": "marketing_opt_in",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "booking_notifications": {
          "name": "booking_notifications",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "promotional_offers": {
          "name": "promotional_offers",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "birthday_offers": {
          "name": "birthday_offers",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "preferred_channel": {
          "name": "preferred_channel",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'email'"
        },
        "unsubscribed_at": {
          "name": "unsubscribed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "unsubscribe_reason": {
          "name": "unsubscribe_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "communication_preferences_customer_id_idx": {
          "name": "communication_preferences_customer_id_idx",
          "columns": [
            {
              "expression": "customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "communication_preferences_salon_id_idx": {
          "name": "communication_preferences_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "communication_preferences_customer_id_users_id_fk": {
          "name": "communication_preferences_customer_id_users_id_fk",
          "tableFrom": "communication_preferences",
          "tableTo": "users",
          "columnsFrom": [
            "customer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "communication_preferences_salon_id_salons_id_fk": {
          "name": "communication_preferences_salon_id_salons_id_fk",
          "tableFrom": "communication_preferences",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "communication_preferences_customer_salon_unique": {
          "name": "communication_preferences_customer_salon_unique",
          "nullsNotDistinct": false,
          "columns": [
            "customer_id",
            "salon_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.customer_profiles": {
      "name": "customer_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "customer_email": {
          "name": "customer_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "customer_name": {
          "name": "customer_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "customer_phone": {
          "name": "customer_phone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_vip": {
          "name": "is_vip",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "customer_profiles_salon_id_salons_id_fk": {
          "name": "customer_profiles_salon_id_salons_id_fk",
          "tableFrom": "customer_profiles",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "customer_profiles_salon_email_unique": {
          "name": "customer_profiles_salon_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "salon_id",
            "customer_email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.customer_segments": {
      "name": "customer_segments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "criteria": {
          "name": "criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "customer_count": {
          "name": "customer_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "customer_segments_salon_id_idx": {
          "name": "customer_segments_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "customer_segments_salon_id_salons_id_fk": {
          "name": "customer_segments_salon_id_salons_id_fk",
          "tableFrom": "customer_segments",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "customer_segments_created_by_users_id_fk": {
          "name": "customer_segments_created_by_users_id_fk",
          "tableFrom": "customer_segments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_verification_tokens": {
      "name": "email_verification_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "email_verification_tokens_user_id_users_id_fk": {
          "name": "email_verification_tokens_user_id_users_id_fk",
          "tableFrom": "email_verification_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "email_verification_tokens_token_unique": {
          "name": "email_verification_tokens_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.expense_categories": {
      "name": "expense_categories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false,
          "default": "'#6366f1'"
        },
        "is_default": {
          "name": "is_default",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "expense_categories_salon_idx": {
          "name": "expense_categories_salon_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "expense_categories_salon_id_salons_id_fk": {
          "name": "expense_categories_salon_id_salons_id_fk",
          "tableFrom": "expense_categories",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "expense_categories_salon_name_unique": {
          "name": "expense_categories_salon_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "salon_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "is_default_valid": {
          "name": "is_default_valid",
          "value": "is_default IN (0,1)"
        },
        "is_active_valid": {
          "name": "is_active_valid",
          "value": "is_active IN (0,1)"
        }
      },
      "isRLSEnabled": false
    },
    "public.expenses": {
      "name": "expenses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "category_id": {
          "name": "category_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount_paisa": {
          "name": "amount_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "expense_date": {
          "name": "expense_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "receipt_url": {
          "name": "receipt_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_number": {
          "name": "receipt_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "vendor": {
          "name": "vendor",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "is_recurring": {
          "name": "is_recurring",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "recurring_frequency": {
          "name": "recurring_frequency",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "tax_deductible": {
          "name": "tax_deductible",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_amount_paisa": {
          "name": "tax_amount_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "expenses_salon_idx": {
          "name": "expenses_salon_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "expenses_category_idx": {
          "name": "expenses_category_idx",
          "columns": [
            {
              "expression": "category_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "expenses_date_idx": {
          "name": "expenses_date_idx",
          "columns": [
            {
              "expression": "expense_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "expenses_status_idx": {
          "name": "expenses_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "expenses_salon_id_salons_id_fk": {
          "name": "expenses_salon_id_salons_id_fk",
          "tableFrom": "expenses",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "expenses_category_id_expense_categories_id_fk": {
          "name": "expenses_category_id_expense_categories_id_fk",
          "tableFrom": "expenses",
          "tableTo": "expense_categories",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "expenses_approved_by_users_id_fk": {
          "name": "expenses_approved_by_users_id_fk",
          "tableFrom": "expenses",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "expenses_created_by_users_id_fk": {
          "name": "expenses_created_by_users_id_fk",
          "tableFrom": "expenses",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "is_recurring_valid": {
          "name": "is_recurring_valid",
          "value": "is_recurring IN (0,1)"
        },
        "tax_deductible_valid": {
          "name": "tax_deductible_valid",
          "value": "tax_deductible IN (0,1)"
        },
        "status_valid": {
          "name": "status_valid",
          "value": "status IN ('pending', 'approved', 'rejected')"
        },
        "recurring_frequency_valid": {
          "name": "recurring_frequency_valid",
          "value": "recurring_frequency IS NULL OR recurring_frequency IN ('monthly', 'quarterly', 'yearly')"
        }
      },
      "isRLSEnabled": false
    },
    "public.financial_reports": {
      "name": "financial_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "report_type": {
          "name": "report_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "report_title": {
          "name": "report_title",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "report_period": {
          "name": "report_period",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "report_data": {
          "name": "report_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "generated_by": {
          "name": "generated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "exported_at": {
          "name": "exported_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "export_format": {
          "name": "export_format",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "is_scheduled": {
          "name": "is_scheduled",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "schedule_frequency": {
          "name": "schedule_frequency",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "next_scheduled_at": {
          "name": "next_scheduled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "financial_reports_salon_idx": {
          "name": "financial_reports_salon_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "financial_reports_type_idx": {
          "name": "financial_reports_type_idx",
          "columns": [
            {
              "expression": "report_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "financial_reports_period_idx": {
          "name": "financial_reports_period_idx",
          "columns": [
            {
              "expression": "start_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "end_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "financial_reports_salon_id_salons_id_fk": {
          "name": "financial_reports_salon_id_salons_id_fk",
          "tableFrom": "financial_reports",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "financial_reports_generated_by_users_id_fk": {
          "name": "financial_reports_generated_by_users_id_fk",
          "tableFrom": "financial_reports",
          "tableTo": "users",
          "columnsFrom": [
            "generated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "report_type_valid": {
          "name": "report_type_valid",
          "value": "report_type IN ('pl_statement', 'cash_flow', 'commission_report', 'expense_report', 'tax_report', 'budget_report')"
        },
        "report_period_valid": {
          "name": "report_period_valid",
          "value": "report_period IN ('monthly', 'quarterly', 'yearly', 'custom')"
        },
        "export_format_valid": {
          "name": "export_format_valid",
          "value": "export_format IS NULL OR export_format IN ('pdf', 'excel', 'csv')"
        },
        "is_scheduled_valid": {
          "name": "is_scheduled_valid",
          "value": "is_scheduled IN (0,1)"
        },
        "schedule_frequency_valid": {
          "name": "schedule_frequency_valid",
          "value": "schedule_frequency IS NULL OR schedule_frequency IN ('weekly', 'monthly', 'quarterly')"
        }
      },
      "isRLSEnabled": false
    },
    "public.inventory_adjustment_items": {
      "name": "inventory_adjustment_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "adjustment_id": {
          "name": "adjustment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "expected_quantity": {
          "name": "expected_quantity",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "actual_quantity": {
          "name": "actual_quantity",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "adjustment_quantity": {
          "name": "adjustment_quantity",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "unit": {
          "name": "unit",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "unit_cost_in_paisa": {
          "name": "unit_cost_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost_in_paisa": {
          "name": "total_cost_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "inventory_adjustment_items_adjustment_id_idx": {
          "name": "inventory_adjustment_items_adjustment_id_idx",
          "columns": [
            {
              "expression": "adjustment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "inventory_adjustment_items_product_id_idx": {
          "name": "inventory_adjustment_items_product_id_idx",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "inventory_adjustment_items_adjustment_id_inventory_adjustments_id_fk": {
          "name": "inventory_adjustment_items_adjustment_id_inventory_adjustments_id_fk",
          "tableFrom": "inventory_adjustment_items",
          "tableTo": "inventory_adjustments",
          "columnsFrom": [
            "adjustment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "inventory_adjustment_items_product_id_products_id_fk": {
          "name": "inventory_adjustment_items_product_id_products_id_fk",
          "tableFrom": "inventory_adjustment_items",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.inventory_adjustments": {
      "name": "inventory_adjustments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "adjustment_number": {
          "name": "adjustment_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "adjustment_date": {
          "name": "adjustment_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "reason": {
          "name": "reason",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_value_in_paisa": {
          "name": "total_value_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "inventory_adjustments_salon_id_idx": {
          "name": "inventory_adjustments_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "inventory_adjustments_type_idx": {
          "name": "inventory_adjustments_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "inventory_adjustments_status_idx": {
          "name": "inventory_adjustments_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "inventory_adjustments_date_idx": {
          "name": "inventory_adjustments_date_idx",
          "columns": [
            {
              "expression": "adjustment_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "inventory_adjustments_salon_id_salons_id_fk": {
          "name": "inventory_adjustments_salon_id_salons_id_fk",
          "tableFrom": "inventory_adjustments",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "inventory_adjustments_created_by_users_id_fk": {
          "name": "inventory_adjustments_created_by_users_id_fk",
          "tableFrom": "inventory_adjustments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "inventory_adjustments_approved_by_users_id_fk": {
          "name": "inventory_adjustments_approved_by_users_id_fk",
          "tableFrom": "inventory_adjustments",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "inventory_adjustments_salon_number_unique": {
          "name": "inventory_adjustments_salon_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "salon_id",
            "adjustment_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.media_assets": {
      "name": "media_assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "asset_type": {
          "name": "asset_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "alt_text": {
          "name": "alt_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_primary": {
          "name": "is_primary",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "media_assets_salon_idx": {
          "name": "media_assets_salon_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "media_assets_salon_type_order_idx": {
          "name": "media_assets_salon_type_order_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "asset_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "display_order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "media_assets_primary_unique": {
          "name": "media_assets_primary_unique",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "is_primary = 1",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "media_assets_salon_id_salons_id_fk": {
          "name": "media_assets_salon_id_salons_id_fk",
          "tableFrom": "media_assets",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "is_primary_valid": {
          "name": "is_primary_valid",
          "value": "is_primary IN (0,1)"
        },
        "is_active_valid": {
          "name": "is_active_valid",
          "value": "is_active IN (0,1)"
        },
        "asset_type_valid": {
          "name": "asset_type_valid",
          "value": "asset_type IN ('logo', 'cover', 'gallery', 'video')"
        }
      },
      "isRLSEnabled": false
    },
    "public.message_templates": {
      "name": "message_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "variables": {
          "name": "variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_default": {
          "name": "is_default",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "message_templates_salon_id_idx": {
          "name": "message_templates_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "message_templates_type_idx": {
          "name": "message_templates_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "message_templates_salon_id_salons_id_fk": {
          "name": "message_templates_salon_id_salons_id_fk",
          "tableFrom": "message_templates",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "message_templates_created_by_users_id_fk": {
          "name": "message_templates_created_by_users_id_fk",
          "tableFrom": "message_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.optimization_recommendations": {
      "name": "optimization_recommendations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "test_campaign_id": {
          "name": "test_campaign_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "recommendation_type": {
          "name": "recommendation_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "recommendation_title": {
          "name": "recommendation_title",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "recommendation_description": {
          "name": "recommendation_description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "expected_improvement": {
          "name": "expected_improvement",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "impact_score": {
          "name": "impact_score",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "implementation_data": {
          "name": "implementation_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "implementation_complexity": {
          "name": "implementation_complexity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'low'"
        },
        "estimated_effort_hours": {
          "name": "estimated_effort_hours",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.25'"
        },
        "model_version": {
          "name": "model_version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "model_features": {
          "name": "model_features",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "based_on_data_points": {
          "name": "based_on_data_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "implemented_at": {
          "name": "implemented_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "implemented_by": {
          "name": "implemented_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "actual_improvement": {
          "name": "actual_improvement",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_score": {
          "name": "feedback_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_notes": {
          "name": "feedback_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "optimization_recommendations_salon_id_idx": {
          "name": "optimization_recommendations_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "optimization_recommendations_campaign_id_idx": {
          "name": "optimization_recommendations_campaign_id_idx",
          "columns": [
            {
              "expression": "campaign_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "optimization_recommendations_test_campaign_id_idx": {
          "name": "optimization_recommendations_test_campaign_id_idx",
          "columns": [
            {
              "expression": "test_campaign_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "optimization_recommendations_type_idx": {
          "name": "optimization_recommendations_type_idx",
          "columns": [
            {
              "expression": "recommendation_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "optimization_recommendations_status_idx": {
          "name": "optimization_recommendations_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "optimization_recommendations_priority_idx": {
          "name": "optimization_recommendations_priority_idx",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "optimization_recommendations_expires_at_idx": {
          "name": "optimization_recommendations_expires_at_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "optimization_recommendations_salon_id_salons_id_fk": {
          "name": "optimization_recommendations_salon_id_salons_id_fk",
          "tableFrom": "optimization_recommendations",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "optimization_recommendations_campaign_id_communication_campaigns_id_fk": {
          "name": "optimization_recommendations_campaign_id_communication_campaigns_id_fk",
          "tableFrom": "optimization_recommendations",
          "tableTo": "communication_campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "optimization_recommendations_test_campaign_id_ab_test_campaigns_id_fk": {
          "name": "optimization_recommendations_test_campaign_id_ab_test_campaigns_id_fk",
          "tableFrom": "optimization_recommendations",
          "tableTo": "ab_test_campaigns",
          "columnsFrom": [
            "test_campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "optimization_recommendations_implemented_by_users_id_fk": {
          "name": "optimization_recommendations_implemented_by_users_id_fk",
          "tableFrom": "optimization_recommendations",
          "tableTo": "users",
          "columnsFrom": [
            "implemented_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "confidence_score_valid": {
          "name": "confidence_score_valid",
          "value": "confidence_score >= 0 AND confidence_score <= 1"
        },
        "impact_score_valid": {
          "name": "impact_score_valid",
          "value": "impact_score >= 0 AND impact_score <= 1"
        },
        "priority_valid": {
          "name": "priority_valid",
          "value": "priority >= 1 AND priority <= 10"
        },
        "feedback_score_valid": {
          "name": "feedback_score_valid",
          "value": "feedback_score IS NULL OR (feedback_score >= 1 AND feedback_score <= 5)"
        }
      },
      "isRLSEnabled": false
    },
    "public.org_users": {
      "name": "org_users",
      "schema": "",
      "columns": {
        "org_id": {
          "name": "org_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "org_role": {
          "name": "org_role",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'staff'"
        },
        "invited_at": {
          "name": "invited_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        }
      },
      "indexes": {},
      "foreignKeys": {
        "org_users_org_id_organizations_id_fk": {
          "name": "org_users_org_id_organizations_id_fk",
          "tableFrom": "org_users",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "org_users_user_id_users_id_fk": {
          "name": "org_users_user_id_users_id_fk",
          "tableFrom": "org_users",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organizations": {
      "name": "organizations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "organizations_owner_user_id_users_id_fk": {
          "name": "organizations_owner_user_id_users_id_fk",
          "tableFrom": "organizations",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.package_services": {
      "name": "package_services",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "package_id": {
          "name": "package_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "service_id": {
          "name": "service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "sequence_order": {
          "name": "sequence_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "package_services_package_id_service_packages_id_fk": {
          "name": "package_services_package_id_service_packages_id_fk",
          "tableFrom": "package_services",
          "tableTo": "service_packages",
          "columnsFrom": [
            "package_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "package_services_service_id_services_id_fk": {
          "name": "package_services_service_id_services_id_fk",
          "tableFrom": "package_services",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "package_services_salon_id_salons_id_fk": {
          "name": "package_services_salon_id_salons_id_fk",
          "tableFrom": "package_services",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "package_services_package_salon_fk": {
          "name": "package_services_package_salon_fk",
          "tableFrom": "package_services",
          "tableTo": "service_packages",
          "columnsFrom": [
            "package_id",
            "salon_id"
          ],
          "columnsTo": [
            "id",
            "salon_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "package_services_service_salon_fk": {
          "name": "package_services_service_salon_fk",
          "tableFrom": "package_services",
          "tableTo": "services",
          "columnsFrom": [
            "service_id",
            "salon_id"
          ],
          "columnsTo": [
            "id",
            "salon_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "package_services_package_service_unique": {
          "name": "package_services_package_service_unique",
          "nullsNotDistinct": false,
          "columns": [
            "package_id",
            "service_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payments": {
      "name": "payments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "booking_id": {
          "name": "booking_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "razorpay_order_id": {
          "name": "razorpay_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "razorpay_payment_id": {
          "name": "razorpay_payment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "razorpay_signature": {
          "name": "razorpay_signature",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount_paisa": {
          "name": "amount_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "payments_booking_id_bookings_id_fk": {
          "name": "payments_booking_id_bookings_id_fk",
          "tableFrom": "payments",
          "tableTo": "bookings",
          "columnsFrom": [
            "booking_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payout_accounts": {
      "name": "payout_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "onboarding_status": {
          "name": "onboarding_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requirements_missing": {
          "name": "requirements_missing",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "payout_accounts_salon_idx": {
          "name": "payout_accounts_salon_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payout_accounts_default_unique": {
          "name": "payout_accounts_default_unique",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "is_default = 1",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payout_accounts_salon_id_salons_id_fk": {
          "name": "payout_accounts_salon_id_salons_id_fk",
          "tableFrom": "payout_accounts",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "payout_accounts_salon_provider_unique": {
          "name": "payout_accounts_salon_provider_unique",
          "nullsNotDistinct": false,
          "columns": [
            "salon_id",
            "provider"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "provider_valid": {
          "name": "provider_valid",
          "value": "provider IN ('razorpay', 'stripe')"
        },
        "onboarding_status_valid": {
          "name": "onboarding_status_valid",
          "value": "onboarding_status IN ('pending', 'incomplete', 'approved', 'rejected')"
        },
        "is_default_valid": {
          "name": "is_default_valid",
          "value": "is_default IN (0,1)"
        },
        "is_active_valid": {
          "name": "is_active_valid",
          "value": "is_active IN (0,1)"
        }
      },
      "isRLSEnabled": false
    },
    "public.performance_monitoring_settings": {
      "name": "performance_monitoring_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "configuration_id": {
          "name": "configuration_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "monitoring_name": {
          "name": "monitoring_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "target_metrics": {
          "name": "target_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[\"open_rate\", \"click_rate\", \"conversion_rate\"]'"
        },
        "metric_thresholds": {
          "name": "metric_thresholds",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "check_interval_minutes": {
          "name": "check_interval_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 15
        },
        "alert_cooldown_minutes": {
          "name": "alert_cooldown_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "enable_email_alerts": {
          "name": "enable_email_alerts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "enable_sms_alerts": {
          "name": "enable_sms_alerts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "alert_recipients": {
          "name": "alert_recipients",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "enable_early_winner_detection": {
          "name": "enable_early_winner_detection",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "early_detection_minimum_samples": {
          "name": "early_detection_minimum_samples",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "early_detection_significance_level": {
          "name": "early_detection_significance_level",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.0500'"
        },
        "enable_provider_integration": {
          "name": "enable_provider_integration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "provider_settings": {
          "name": "provider_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "last_monitored_at": {
          "name": "last_monitored_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "performance_monitoring_settings_salon_id_idx": {
          "name": "performance_monitoring_settings_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "performance_monitoring_settings_config_id_idx": {
          "name": "performance_monitoring_settings_config_id_idx",
          "columns": [
            {
              "expression": "configuration_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "performance_monitoring_settings_active_idx": {
          "name": "performance_monitoring_settings_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "performance_monitoring_settings_last_monitored_idx": {
          "name": "performance_monitoring_settings_last_monitored_idx",
          "columns": [
            {
              "expression": "last_monitored_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "performance_monitoring_settings_salon_id_salons_id_fk": {
          "name": "performance_monitoring_settings_salon_id_salons_id_fk",
          "tableFrom": "performance_monitoring_settings",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "performance_monitoring_settings_configuration_id_automation_configurations_id_fk": {
          "name": "performance_monitoring_settings_configuration_id_automation_configurations_id_fk",
          "tableFrom": "performance_monitoring_settings",
          "tableTo": "automation_configurations",
          "columnsFrom": [
            "configuration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "performance_monitoring_settings_config_name_unique": {
          "name": "performance_monitoring_settings_config_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "configuration_id",
            "monitoring_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "check_interval_valid": {
          "name": "check_interval_valid",
          "value": "check_interval_minutes >= 5 AND check_interval_minutes <= 1440"
        },
        "cooldown_valid": {
          "name": "cooldown_valid",
          "value": "alert_cooldown_minutes >= 5 AND alert_cooldown_minutes <= 1440"
        }
      },
      "isRLSEnabled": false
    },
    "public.product_categories": {
      "name": "product_categories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_category_id": {
          "name": "parent_category_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "product_categories_salon_id_idx": {
          "name": "product_categories_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "product_categories_parent_idx": {
          "name": "product_categories_parent_idx",
          "columns": [
            {
              "expression": "parent_category_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "product_categories_salon_id_salons_id_fk": {
          "name": "product_categories_salon_id_salons_id_fk",
          "tableFrom": "product_categories",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "product_categories_salon_name_unique": {
          "name": "product_categories_salon_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "salon_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.product_usage": {
      "name": "product_usage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "service_id": {
          "name": "service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "quantity_per_service": {
          "name": "quantity_per_service",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "unit": {
          "name": "unit",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "cost_per_service_in_paisa": {
          "name": "cost_per_service_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "product_usage_salon_id_idx": {
          "name": "product_usage_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "product_usage_service_id_idx": {
          "name": "product_usage_service_id_idx",
          "columns": [
            {
              "expression": "service_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "product_usage_product_id_idx": {
          "name": "product_usage_product_id_idx",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "product_usage_salon_id_salons_id_fk": {
          "name": "product_usage_salon_id_salons_id_fk",
          "tableFrom": "product_usage",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "product_usage_service_id_services_id_fk": {
          "name": "product_usage_service_id_services_id_fk",
          "tableFrom": "product_usage",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "product_usage_product_id_products_id_fk": {
          "name": "product_usage_product_id_products_id_fk",
          "tableFrom": "product_usage",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "product_usage_service_product_unique": {
          "name": "product_usage_service_product_unique",
          "nullsNotDistinct": false,
          "columns": [
            "service_id",
            "product_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.products": {
      "name": "products",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "category_id": {
          "name": "category_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_id": {
          "name": "vendor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sku": {
          "name": "sku",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "brand": {
          "name": "brand",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "size": {
          "name": "size",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "unit": {
          "name": "unit",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'piece'"
        },
        "cost_price_in_paisa": {
          "name": "cost_price_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "selling_price_in_paisa": {
          "name": "selling_price_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "current_stock": {
          "name": "current_stock",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "minimum_stock": {
          "name": "minimum_stock",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "maximum_stock": {
          "name": "maximum_stock",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "reorder_point": {
          "name": "reorder_point",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "reorder_quantity": {
          "name": "reorder_quantity",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "lead_time_days": {
          "name": "lead_time_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 7
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "batch_number": {
          "name": "batch_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "barcode": {
          "name": "barcode",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_retail_item": {
          "name": "is_retail_item",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "track_stock": {
          "name": "track_stock",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "low_stock_alert": {
          "name": "low_stock_alert",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "products_salon_id_idx": {
          "name": "products_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "products_category_id_idx": {
          "name": "products_category_id_idx",
          "columns": [
            {
              "expression": "category_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "products_vendor_id_idx": {
          "name": "products_vendor_id_idx",
          "columns": [
            {
              "expression": "vendor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "products_sku_idx": {
          "name": "products_sku_idx",
          "columns": [
            {
              "expression": "sku",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "products_barcode_idx": {
          "name": "products_barcode_idx",
          "columns": [
            {
              "expression": "barcode",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "products_current_stock_idx": {
          "name": "products_current_stock_idx",
          "columns": [
            {
              "expression": "current_stock",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "products_low_stock_idx": {
          "name": "products_low_stock_idx",
          "columns": [
            {
              "expression": "current_stock",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "minimum_stock",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "products_salon_id_salons_id_fk": {
          "name": "products_salon_id_salons_id_fk",
          "tableFrom": "products",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "products_category_id_product_categories_id_fk": {
          "name": "products_category_id_product_categories_id_fk",
          "tableFrom": "products",
          "tableTo": "product_categories",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "products_vendor_id_vendors_id_fk": {
          "name": "products_vendor_id_vendors_id_fk",
          "tableFrom": "products",
          "tableTo": "vendors",
          "columnsFrom": [
            "vendor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "products_salon_sku_unique": {
          "name": "products_salon_sku_unique",
          "nullsNotDistinct": false,
          "columns": [
            "salon_id",
            "sku"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.publish_state": {
      "name": "publish_state",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "can_accept_bookings": {
          "name": "can_accept_bookings",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_published": {
          "name": "is_published",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "onboarding_step": {
          "name": "onboarding_step",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "completed_steps": {
          "name": "completed_steps",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "checklist": {
          "name": "checklist",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "publish_state_salon_id_salons_id_fk": {
          "name": "publish_state_salon_id_salons_id_fk",
          "tableFrom": "publish_state",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "publish_state_salon_id_unique": {
          "name": "publish_state_salon_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "salon_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "can_accept_bookings_valid": {
          "name": "can_accept_bookings_valid",
          "value": "can_accept_bookings IN (0,1)"
        },
        "is_published_valid": {
          "name": "is_published_valid",
          "value": "is_published IN (0,1)"
        },
        "onboarding_step_valid": {
          "name": "onboarding_step_valid",
          "value": "onboarding_step >= 1"
        }
      },
      "isRLSEnabled": false
    },
    "public.purchase_order_items": {
      "name": "purchase_order_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "purchase_order_id": {
          "name": "purchase_order_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "unit": {
          "name": "unit",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "unit_cost_in_paisa": {
          "name": "unit_cost_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_cost_in_paisa": {
          "name": "total_cost_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "received_quantity": {
          "name": "received_quantity",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "purchase_order_items_po_id_idx": {
          "name": "purchase_order_items_po_id_idx",
          "columns": [
            {
              "expression": "purchase_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "purchase_order_items_product_id_idx": {
          "name": "purchase_order_items_product_id_idx",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "purchase_order_items_purchase_order_id_purchase_orders_id_fk": {
          "name": "purchase_order_items_purchase_order_id_purchase_orders_id_fk",
          "tableFrom": "purchase_order_items",
          "tableTo": "purchase_orders",
          "columnsFrom": [
            "purchase_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "purchase_order_items_product_id_products_id_fk": {
          "name": "purchase_order_items_product_id_products_id_fk",
          "tableFrom": "purchase_order_items",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.purchase_orders": {
      "name": "purchase_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_id": {
          "name": "vendor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "order_number": {
          "name": "order_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "order_date": {
          "name": "order_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expected_delivery_date": {
          "name": "expected_delivery_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "actual_delivery_date": {
          "name": "actual_delivery_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "subtotal_in_paisa": {
          "name": "subtotal_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_in_paisa": {
          "name": "tax_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "shipping_in_paisa": {
          "name": "shipping_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_in_paisa": {
          "name": "discount_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_in_paisa": {
          "name": "total_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "payment_terms": {
          "name": "payment_terms",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_status": {
          "name": "payment_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "received_by": {
          "name": "received_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "purchase_orders_salon_id_idx": {
          "name": "purchase_orders_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "purchase_orders_vendor_id_idx": {
          "name": "purchase_orders_vendor_id_idx",
          "columns": [
            {
              "expression": "vendor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "purchase_orders_status_idx": {
          "name": "purchase_orders_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "purchase_orders_order_date_idx": {
          "name": "purchase_orders_order_date_idx",
          "columns": [
            {
              "expression": "order_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "purchase_orders_salon_id_salons_id_fk": {
          "name": "purchase_orders_salon_id_salons_id_fk",
          "tableFrom": "purchase_orders",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "purchase_orders_vendor_id_vendors_id_fk": {
          "name": "purchase_orders_vendor_id_vendors_id_fk",
          "tableFrom": "purchase_orders",
          "tableTo": "vendors",
          "columnsFrom": [
            "vendor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "purchase_orders_created_by_users_id_fk": {
          "name": "purchase_orders_created_by_users_id_fk",
          "tableFrom": "purchase_orders",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "purchase_orders_approved_by_users_id_fk": {
          "name": "purchase_orders_approved_by_users_id_fk",
          "tableFrom": "purchase_orders",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "purchase_orders_received_by_users_id_fk": {
          "name": "purchase_orders_received_by_users_id_fk",
          "tableFrom": "purchase_orders",
          "tableTo": "users",
          "columnsFrom": [
            "received_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "purchase_orders_salon_order_number_unique": {
          "name": "purchase_orders_salon_order_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "salon_id",
            "order_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reorder_rules": {
      "name": "reorder_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_id": {
          "name": "vendor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "reorder_point": {
          "name": "reorder_point",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "reorder_quantity": {
          "name": "reorder_quantity",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "lead_time_days": {
          "name": "lead_time_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 7
        },
        "safety_stock_days": {
          "name": "safety_stock_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "auto_create_po": {
          "name": "auto_create_po",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_triggered": {
          "name": "last_triggered",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_review_date": {
          "name": "next_review_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "seasonal_factor": {
          "name": "seasonal_factor",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.00'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "reorder_rules_salon_id_idx": {
          "name": "reorder_rules_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "reorder_rules_product_id_idx": {
          "name": "reorder_rules_product_id_idx",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "reorder_rules_vendor_id_idx": {
          "name": "reorder_rules_vendor_id_idx",
          "columns": [
            {
              "expression": "vendor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "reorder_rules_next_review_idx": {
          "name": "reorder_rules_next_review_idx",
          "columns": [
            {
              "expression": "next_review_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "reorder_rules_salon_id_salons_id_fk": {
          "name": "reorder_rules_salon_id_salons_id_fk",
          "tableFrom": "reorder_rules",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "reorder_rules_product_id_products_id_fk": {
          "name": "reorder_rules_product_id_products_id_fk",
          "tableFrom": "reorder_rules",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "reorder_rules_vendor_id_vendors_id_fk": {
          "name": "reorder_rules_vendor_id_vendors_id_fk",
          "tableFrom": "reorder_rules",
          "tableTo": "vendors",
          "columnsFrom": [
            "vendor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "reorder_rules_salon_product_unique": {
          "name": "reorder_rules_salon_product_unique",
          "nullsNotDistinct": false,
          "columns": [
            "salon_id",
            "product_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.resources": {
      "name": "resources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_type": {
          "name": "resource_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "capacity": {
          "name": "capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "resources_salon_idx": {
          "name": "resources_salon_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "resources_salon_id_salons_id_fk": {
          "name": "resources_salon_id_salons_id_fk",
          "tableFrom": "resources",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "resources_id_salon_id_unique": {
          "name": "resources_id_salon_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "id",
            "salon_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "capacity_positive": {
          "name": "capacity_positive",
          "value": "capacity > 0"
        },
        "is_active_valid": {
          "name": "is_active_valid",
          "value": "is_active IN (0,1)"
        },
        "resource_type_valid": {
          "name": "resource_type_valid",
          "value": "resource_type IN ('chair', 'room', 'equipment', 'station', 'bed')"
        }
      },
      "isRLSEnabled": false
    },
    "public.roles": {
      "name": "roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "roles_name_unique": {
          "name": "roles_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.salons": {
      "name": "salons",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "zip_code": {
          "name": "zip_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(9, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(9, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "price_range": {
          "name": "price_range",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "venue_type": {
          "name": "venue_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'everyone'"
        },
        "instant_booking": {
          "name": "instant_booking",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "offer_deals": {
          "name": "offer_deals",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "accept_group": {
          "name": "accept_group",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "rating": {
          "name": "rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.00'"
        },
        "review_count": {
          "name": "review_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image_urls": {
          "name": "image_urls",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "open_time": {
          "name": "open_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "close_time": {
          "name": "close_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "business_hours": {
          "name": "business_hours",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "setup_progress": {
          "name": "setup_progress",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "owner_id": {
          "name": "owner_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "salons_lat_lng_idx": {
          "name": "salons_lat_lng_idx",
          "columns": [
            {
              "expression": "latitude",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "longitude",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "salons_owner_id_users_id_fk": {
          "name": "salons_owner_id_users_id_fk",
          "tableFrom": "salons",
          "tableTo": "users",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "salons_org_id_organizations_id_fk": {
          "name": "salons_org_id_organizations_id_fk",
          "tableFrom": "salons",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.scheduled_messages": {
      "name": "scheduled_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "customer_id": {
          "name": "customer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "booking_id": {
          "name": "booking_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "template_id": {
          "name": "template_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "recipient": {
          "name": "recipient",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "last_attempt_at": {
          "name": "last_attempt_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "scheduled_messages_salon_id_idx": {
          "name": "scheduled_messages_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "scheduled_messages_scheduled_for_idx": {
          "name": "scheduled_messages_scheduled_for_idx",
          "columns": [
            {
              "expression": "scheduled_for",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "scheduled_messages_status_idx": {
          "name": "scheduled_messages_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "scheduled_messages_booking_id_idx": {
          "name": "scheduled_messages_booking_id_idx",
          "columns": [
            {
              "expression": "booking_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "scheduled_messages_salon_id_salons_id_fk": {
          "name": "scheduled_messages_salon_id_salons_id_fk",
          "tableFrom": "scheduled_messages",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scheduled_messages_customer_id_users_id_fk": {
          "name": "scheduled_messages_customer_id_users_id_fk",
          "tableFrom": "scheduled_messages",
          "tableTo": "users",
          "columnsFrom": [
            "customer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scheduled_messages_booking_id_bookings_id_fk": {
          "name": "scheduled_messages_booking_id_bookings_id_fk",
          "tableFrom": "scheduled_messages",
          "tableTo": "bookings",
          "columnsFrom": [
            "booking_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scheduled_messages_campaign_id_communication_campaigns_id_fk": {
          "name": "scheduled_messages_campaign_id_communication_campaigns_id_fk",
          "tableFrom": "scheduled_messages",
          "tableTo": "communication_campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scheduled_messages_template_id_message_templates_id_fk": {
          "name": "scheduled_messages_template_id_message_templates_id_fk",
          "tableFrom": "scheduled_messages",
          "tableTo": "message_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.service_packages": {
      "name": "service_packages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_duration_minutes": {
          "name": "total_duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "package_price_in_paisa": {
          "name": "package_price_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "regular_price_in_paisa": {
          "name": "regular_price_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "discount_percentage": {
          "name": "discount_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'INR'"
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "service_packages_salon_id_salons_id_fk": {
          "name": "service_packages_salon_id_salons_id_fk",
          "tableFrom": "service_packages",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "service_packages_id_salon_id_unique": {
          "name": "service_packages_id_salon_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "id",
            "salon_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.service_resources": {
      "name": "service_resources",
      "schema": "",
      "columns": {
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "service_id": {
          "name": "service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "quantity_required": {
          "name": "quantity_required",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        }
      },
      "indexes": {
        "service_resources_salon_idx": {
          "name": "service_resources_salon_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "service_resources_resource_idx": {
          "name": "service_resources_resource_idx",
          "columns": [
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "service_resources_salon_id_salons_id_fk": {
          "name": "service_resources_salon_id_salons_id_fk",
          "tableFrom": "service_resources",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "service_resources_service_id_services_id_fk": {
          "name": "service_resources_service_id_services_id_fk",
          "tableFrom": "service_resources",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "service_resources_resource_id_resources_id_fk": {
          "name": "service_resources_resource_id_resources_id_fk",
          "tableFrom": "service_resources",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "service_resources_service_salon_fk": {
          "name": "service_resources_service_salon_fk",
          "tableFrom": "service_resources",
          "tableTo": "services",
          "columnsFrom": [
            "service_id",
            "salon_id"
          ],
          "columnsTo": [
            "id",
            "salon_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_resources_resource_salon_fk": {
          "name": "service_resources_resource_salon_fk",
          "tableFrom": "service_resources",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id",
            "salon_id"
          ],
          "columnsTo": [
            "id",
            "salon_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "quantity_positive": {
          "name": "quantity_positive",
          "value": "quantity_required > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.services": {
      "name": "services",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "price_in_paisa": {
          "name": "price_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "services_salon_id_salons_id_fk": {
          "name": "services_salon_id_salons_id_fk",
          "tableFrom": "services",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "services_id_salon_id_unique": {
          "name": "services_id_salon_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "id",
            "salon_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "sid": {
          "name": "sid",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "sess": {
          "name": "sess",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "expire": {
          "name": "expire",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "IDX_session_expire": {
          "name": "IDX_session_expire",
          "columns": [
            {
              "expression": "expire",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.staff": {
      "name": "staff",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "roles": {
          "name": "roles",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "photo_url": {
          "name": "photo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "specialties": {
          "name": "specialties",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "staff_user_id_users_id_fk": {
          "name": "staff_user_id_users_id_fk",
          "tableFrom": "staff",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "staff_salon_id_salons_id_fk": {
          "name": "staff_salon_id_salons_id_fk",
          "tableFrom": "staff",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "staff_org_id_organizations_id_fk": {
          "name": "staff_org_id_organizations_id_fk",
          "tableFrom": "staff",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "staff_id_salon_id_unique": {
          "name": "staff_id_salon_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "id",
            "salon_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.staff_services": {
      "name": "staff_services",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "staff_id": {
          "name": "staff_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "service_id": {
          "name": "service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "price_in_paisa": {
          "name": "price_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "commission_percentage": {
          "name": "commission_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "staff_service_salon_idx": {
          "name": "staff_service_salon_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "staff_service_idx": {
          "name": "staff_service_idx",
          "columns": [
            {
              "expression": "staff_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "service_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "staff_service_service_idx": {
          "name": "staff_service_service_idx",
          "columns": [
            {
              "expression": "service_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "staff_services_salon_id_salons_id_fk": {
          "name": "staff_services_salon_id_salons_id_fk",
          "tableFrom": "staff_services",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "staff_services_staff_id_staff_id_fk": {
          "name": "staff_services_staff_id_staff_id_fk",
          "tableFrom": "staff_services",
          "tableTo": "staff",
          "columnsFrom": [
            "staff_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "staff_services_service_id_services_id_fk": {
          "name": "staff_services_service_id_services_id_fk",
          "tableFrom": "staff_services",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "staff_services_staff_salon_fk": {
          "name": "staff_services_staff_salon_fk",
          "tableFrom": "staff_services",
          "tableTo": "staff",
          "columnsFrom": [
            "staff_id",
            "salon_id"
          ],
          "columnsTo": [
            "id",
            "salon_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staff_services_service_salon_fk": {
          "name": "staff_services_service_salon_fk",
          "tableFrom": "staff_services",
          "tableTo": "services",
          "columnsFrom": [
            "service_id",
            "salon_id"
          ],
          "columnsTo": [
            "id",
            "salon_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "staff_services_salon_staff_service_unique": {
          "name": "staff_services_salon_staff_service_unique",
          "nullsNotDistinct": false,
          "columns": [
            "salon_id",
            "staff_id",
            "service_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "price_positive": {
          "name": "price_positive",
          "value": "price_in_paisa IS NULL OR price_in_paisa > 0"
        },
        "duration_positive": {
          "name": "duration_positive",
          "value": "duration_minutes IS NULL OR duration_minutes > 0"
        },
        "is_active_valid": {
          "name": "is_active_valid",
          "value": "is_active IN (0,1)"
        },
        "commission_valid": {
          "name": "commission_valid",
          "value": "commission_percentage >= 0 AND commission_percentage <= 100"
        }
      },
      "isRLSEnabled": false
    },
    "public.stock_movements": {
      "name": "stock_movements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "unit": {
          "name": "unit",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "unit_cost_in_paisa": {
          "name": "unit_cost_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost_in_paisa": {
          "name": "total_cost_in_paisa",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "previous_stock": {
          "name": "previous_stock",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "new_stock": {
          "name": "new_stock",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "reference": {
          "name": "reference",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "reference_id": {
          "name": "reference_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reference_type": {
          "name": "reference_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "staff_id": {
          "name": "staff_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "batch_number": {
          "name": "batch_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "stock_movements_salon_id_idx": {
          "name": "stock_movements_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "stock_movements_product_id_idx": {
          "name": "stock_movements_product_id_idx",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "stock_movements_type_idx": {
          "name": "stock_movements_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "stock_movements_created_at_idx": {
          "name": "stock_movements_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "stock_movements_reference_idx": {
          "name": "stock_movements_reference_idx",
          "columns": [
            {
              "expression": "reference_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "reference_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "stock_movements_salon_id_salons_id_fk": {
          "name": "stock_movements_salon_id_salons_id_fk",
          "tableFrom": "stock_movements",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "stock_movements_product_id_products_id_fk": {
          "name": "stock_movements_product_id_products_id_fk",
          "tableFrom": "stock_movements",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "stock_movements_staff_id_staff_id_fk": {
          "name": "stock_movements_staff_id_staff_id_fk",
          "tableFrom": "stock_movements",
          "tableTo": "staff",
          "columnsFrom": [
            "staff_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tax_rates": {
      "name": "tax_rates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "rate_basis_points": {
          "name": "rate_basis_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "is_default": {
          "name": "is_default",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "tax_rates_salon_idx": {
          "name": "tax_rates_salon_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tax_rates_default_unique": {
          "name": "tax_rates_default_unique",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "is_default = 1",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tax_rates_salon_id_salons_id_fk": {
          "name": "tax_rates_salon_id_salons_id_fk",
          "tableFrom": "tax_rates",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tax_rates_salon_name_unique": {
          "name": "tax_rates_salon_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "salon_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "rate_valid": {
          "name": "rate_valid",
          "value": "rate_basis_points >= 0 AND rate_basis_points <= 10000"
        },
        "is_default_valid": {
          "name": "is_default_valid",
          "value": "is_default IN (0,1)"
        },
        "is_active_valid": {
          "name": "is_active_valid",
          "value": "is_active IN (0,1)"
        }
      },
      "isRLSEnabled": false
    },
    "public.tax_settings": {
      "name": "tax_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "tax_type": {
          "name": "tax_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "tax_name": {
          "name": "tax_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "tax_rate": {
          "name": "tax_rate",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "is_inclusive": {
          "name": "is_inclusive",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "applicable_from": {
          "name": "applicable_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "applicable_to": {
          "name": "applicable_to",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "tax_authority": {
          "name": "tax_authority",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "registration_number": {
          "name": "registration_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "filing_frequency": {
          "name": "filing_frequency",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "next_filing_date": {
          "name": "next_filing_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "auto_calculate": {
          "name": "auto_calculate",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "tax_settings_salon_idx": {
          "name": "tax_settings_salon_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tax_settings_type_idx": {
          "name": "tax_settings_type_idx",
          "columns": [
            {
              "expression": "tax_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tax_settings_salon_id_salons_id_fk": {
          "name": "tax_settings_salon_id_salons_id_fk",
          "tableFrom": "tax_settings",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tax_settings_salon_type_unique": {
          "name": "tax_settings_salon_type_unique",
          "nullsNotDistinct": false,
          "columns": [
            "salon_id",
            "tax_type"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "tax_type_valid": {
          "name": "tax_type_valid",
          "value": "tax_type IN ('gst', 'vat', 'sales_tax', 'income_tax', 'service_tax')"
        },
        "is_inclusive_valid": {
          "name": "is_inclusive_valid",
          "value": "is_inclusive IN (0,1)"
        },
        "is_active_valid": {
          "name": "is_active_valid",
          "value": "is_active IN (0,1)"
        },
        "auto_calculate_valid": {
          "name": "auto_calculate_valid",
          "value": "auto_calculate IN (0,1)"
        },
        "filing_frequency_valid": {
          "name": "filing_frequency_valid",
          "value": "filing_frequency IS NULL OR filing_frequency IN ('monthly', 'quarterly', 'yearly')"
        }
      },
      "isRLSEnabled": false
    },
    "public.test_metrics": {
      "name": "test_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "test_campaign_id": {
          "name": "test_campaign_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "variant_id": {
          "name": "variant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "metric_date": {
          "name": "metric_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "participant_count": {
          "name": "participant_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "sent_count": {
          "name": "sent_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "delivered_count": {
          "name": "delivered_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "open_count": {
          "name": "open_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "click_count": {
          "name": "click_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "reply_count": {
          "name": "reply_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "booking_count": {
          "name": "booking_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "conversion_count": {
          "name": "conversion_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "bounce_count": {
          "name": "bounce_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "unsubscribe_count": {
          "name": "unsubscribe_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "open_rate": {
          "name": "open_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.0000'"
        },
        "click_rate": {
          "name": "click_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.0000'"
        },
        "conversion_rate": {
          "name": "conversion_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.0000'"
        },
        "booking_rate": {
          "name": "booking_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.0000'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "test_metrics_campaign_id_idx": {
          "name": "test_metrics_campaign_id_idx",
          "columns": [
            {
              "expression": "test_campaign_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "test_metrics_variant_id_idx": {
          "name": "test_metrics_variant_id_idx",
          "columns": [
            {
              "expression": "variant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "test_metrics_date_idx": {
          "name": "test_metrics_date_idx",
          "columns": [
            {
              "expression": "metric_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "test_metrics_test_campaign_id_ab_test_campaigns_id_fk": {
          "name": "test_metrics_test_campaign_id_ab_test_campaigns_id_fk",
          "tableFrom": "test_metrics",
          "tableTo": "ab_test_campaigns",
          "columnsFrom": [
            "test_campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "test_metrics_variant_id_test_variants_id_fk": {
          "name": "test_metrics_variant_id_test_variants_id_fk",
          "tableFrom": "test_metrics",
          "tableTo": "test_variants",
          "columnsFrom": [
            "variant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "test_metrics_variant_date_unique": {
          "name": "test_metrics_variant_date_unique",
          "nullsNotDistinct": false,
          "columns": [
            "variant_id",
            "metric_date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "participant_count_valid": {
          "name": "participant_count_valid",
          "value": "participant_count >= 0"
        },
        "sent_count_valid": {
          "name": "sent_count_valid",
          "value": "sent_count >= 0"
        },
        "delivered_count_valid": {
          "name": "delivered_count_valid",
          "value": "delivered_count >= 0"
        },
        "open_count_valid": {
          "name": "open_count_valid",
          "value": "open_count >= 0"
        },
        "click_count_valid": {
          "name": "click_count_valid",
          "value": "click_count >= 0"
        },
        "reply_count_valid": {
          "name": "reply_count_valid",
          "value": "reply_count >= 0"
        },
        "booking_count_valid": {
          "name": "booking_count_valid",
          "value": "booking_count >= 0"
        },
        "conversion_count_valid": {
          "name": "conversion_count_valid",
          "value": "conversion_count >= 0"
        },
        "bounce_count_valid": {
          "name": "bounce_count_valid",
          "value": "bounce_count >= 0"
        },
        "unsubscribe_count_valid": {
          "name": "unsubscribe_count_valid",
          "value": "unsubscribe_count >= 0"
        },
        "rates_valid": {
          "name": "rates_valid",
          "value": "open_rate >= 0 AND click_rate >= 0 AND conversion_rate >= 0 AND booking_rate >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.test_results": {
      "name": "test_results",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "test_campaign_id": {
          "name": "test_campaign_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "winner_variant_id": {
          "name": "winner_variant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "statistical_significance": {
          "name": "statistical_significance",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_level": {
          "name": "confidence_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "p_value": {
          "name": "p_value",
          "type": "numeric(10, 9)",
          "primaryKey": false,
          "notNull": false
        },
        "performance_improvement": {
          "name": "performance_improvement",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "result_summary": {
          "name": "result_summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "action_taken": {
          "name": "action_taken",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "implemented_at": {
          "name": "implemented_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "test_results_campaign_id_idx": {
          "name": "test_results_campaign_id_idx",
          "columns": [
            {
              "expression": "test_campaign_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "test_results_winner_variant_idx": {
          "name": "test_results_winner_variant_idx",
          "columns": [
            {
              "expression": "winner_variant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "test_results_completed_at_idx": {
          "name": "test_results_completed_at_idx",
          "columns": [
            {
              "expression": "completed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "test_results_implemented_at_idx": {
          "name": "test_results_implemented_at_idx",
          "columns": [
            {
              "expression": "implemented_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "test_results_test_campaign_id_ab_test_campaigns_id_fk": {
          "name": "test_results_test_campaign_id_ab_test_campaigns_id_fk",
          "tableFrom": "test_results",
          "tableTo": "ab_test_campaigns",
          "columnsFrom": [
            "test_campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "test_results_winner_variant_id_test_variants_id_fk": {
          "name": "test_results_winner_variant_id_test_variants_id_fk",
          "tableFrom": "test_results",
          "tableTo": "test_variants",
          "columnsFrom": [
            "winner_variant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "test_results_test_campaign_id_unique": {
          "name": "test_results_test_campaign_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "test_campaign_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "confidence_level_valid": {
          "name": "confidence_level_valid",
          "value": "confidence_level IS NULL OR confidence_level IN (90, 95, 99)"
        },
        "statistical_significance_valid": {
          "name": "statistical_significance_valid",
          "value": "statistical_significance IS NULL OR (statistical_significance >= 0 AND statistical_significance <= 1)"
        },
        "p_value_valid": {
          "name": "p_value_valid",
          "value": "p_value IS NULL OR (p_value >= 0 AND p_value <= 1)"
        }
      },
      "isRLSEnabled": false
    },
    "public.test_variants": {
      "name": "test_variants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "test_campaign_id": {
          "name": "test_campaign_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "variant_name": {
          "name": "variant_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "is_control": {
          "name": "is_control",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "template_overrides": {
          "name": "template_overrides",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "channel_override": {
          "name": "channel_override",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "audience_percentage": {
          "name": "audience_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "test_variants_campaign_id_idx": {
          "name": "test_variants_campaign_id_idx",
          "columns": [
            {
              "expression": "test_campaign_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "test_variants_status_idx": {
          "name": "test_variants_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "test_variants_priority_idx": {
          "name": "test_variants_priority_idx",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "test_variants_test_campaign_id_ab_test_campaigns_id_fk": {
          "name": "test_variants_test_campaign_id_ab_test_campaigns_id_fk",
          "tableFrom": "test_variants",
          "tableTo": "ab_test_campaigns",
          "columnsFrom": [
            "test_campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "test_variants_campaign_name_unique": {
          "name": "test_variants_campaign_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "test_campaign_id",
            "variant_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "is_control_valid": {
          "name": "is_control_valid",
          "value": "is_control IN (0,1)"
        },
        "audience_percentage_valid": {
          "name": "audience_percentage_valid",
          "value": "audience_percentage >= 1 AND audience_percentage <= 100"
        },
        "priority_valid": {
          "name": "priority_valid",
          "value": "priority >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.time_slots": {
      "name": "time_slots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pattern_id": {
          "name": "pattern_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "staff_id": {
          "name": "staff_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "start_date_time": {
          "name": "start_date_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_date_time": {
          "name": "end_date_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "is_booked": {
          "name": "is_booked",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_blocked": {
          "name": "is_blocked",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "booking_id": {
          "name": "booking_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "time_slots_pattern_id_availability_patterns_id_fk": {
          "name": "time_slots_pattern_id_availability_patterns_id_fk",
          "tableFrom": "time_slots",
          "tableTo": "availability_patterns",
          "columnsFrom": [
            "pattern_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "time_slots_salon_id_salons_id_fk": {
          "name": "time_slots_salon_id_salons_id_fk",
          "tableFrom": "time_slots",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "time_slots_staff_id_staff_id_fk": {
          "name": "time_slots_staff_id_staff_id_fk",
          "tableFrom": "time_slots",
          "tableTo": "staff",
          "columnsFrom": [
            "staff_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "time_slots_pattern_salon_fk": {
          "name": "time_slots_pattern_salon_fk",
          "tableFrom": "time_slots",
          "tableTo": "availability_patterns",
          "columnsFrom": [
            "pattern_id",
            "salon_id"
          ],
          "columnsTo": [
            "id",
            "salon_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "time_slots_staff_salon_fk": {
          "name": "time_slots_staff_salon_fk",
          "tableFrom": "time_slots",
          "tableTo": "staff",
          "columnsFrom": [
            "staff_id",
            "salon_id"
          ],
          "columnsTo": [
            "id",
            "salon_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "time_slots_id_salon_id_unique": {
          "name": "time_slots_id_salon_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "id",
            "salon_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_roles": {
      "name": "user_roles",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_roles_user_id_users_id_fk": {
          "name": "user_roles_user_id_users_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_roles_role_id_roles_id_fk": {
          "name": "user_roles_role_id_roles_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_saved_locations": {
      "name": "user_saved_locations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(9, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(9, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "place_id": {
          "name": "place_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "user_saved_locations_user_label_unique": {
          "name": "user_saved_locations_user_label_unique",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "label",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"user_saved_locations\".\"label\" IN ('home', 'office')",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_saved_locations_lat_lng_idx": {
          "name": "user_saved_locations_lat_lng_idx",
          "columns": [
            {
              "expression": "latitude",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "longitude",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_saved_locations_user_id_users_id_fk": {
          "name": "user_saved_locations_user_id_users_id_fk",
          "tableFrom": "user_saved_locations",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "user_saved_locations_label_check": {
          "name": "user_saved_locations_label_check",
          "value": "\"user_saved_locations\".\"label\" IN ('home', 'office', 'custom')"
        }
      },
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "profile_image_url": {
          "name": "profile_image_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "phone_verified": {
          "name": "phone_verified",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_username_unique": {
          "name": "users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        },
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.variant_generation_rules": {
      "name": "variant_generation_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "configuration_id": {
          "name": "configuration_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "rule_name": {
          "name": "rule_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "rule_type": {
          "name": "rule_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "actions": {
          "name": "actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "times_applied": {
          "name": "times_applied",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "success_rate": {
          "name": "success_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.0000'"
        },
        "average_improvement": {
          "name": "average_improvement",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.0000'"
        },
        "best_practice_templates": {
          "name": "best_practice_templates",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "variant_generation_rules_salon_id_idx": {
          "name": "variant_generation_rules_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "variant_generation_rules_config_id_idx": {
          "name": "variant_generation_rules_config_id_idx",
          "columns": [
            {
              "expression": "configuration_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "variant_generation_rules_type_idx": {
          "name": "variant_generation_rules_type_idx",
          "columns": [
            {
              "expression": "rule_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "variant_generation_rules_active_idx": {
          "name": "variant_generation_rules_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "variant_generation_rules_priority_idx": {
          "name": "variant_generation_rules_priority_idx",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "variant_generation_rules_salon_id_salons_id_fk": {
          "name": "variant_generation_rules_salon_id_salons_id_fk",
          "tableFrom": "variant_generation_rules",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "variant_generation_rules_configuration_id_automation_configurations_id_fk": {
          "name": "variant_generation_rules_configuration_id_automation_configurations_id_fk",
          "tableFrom": "variant_generation_rules",
          "tableTo": "automation_configurations",
          "columnsFrom": [
            "configuration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "variant_generation_rules_config_name_unique": {
          "name": "variant_generation_rules_config_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "configuration_id",
            "rule_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.vendors": {
      "name": "vendors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "salon_id": {
          "name": "salon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "contact_person": {
          "name": "contact_person",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "zip_code": {
          "name": "zip_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "default": "'India'"
        },
        "website": {
          "name": "website",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "tax_id": {
          "name": "tax_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms": {
          "name": "payment_terms",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "rating": {
          "name": "rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.00'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "vendors_salon_id_idx": {
          "name": "vendors_salon_id_idx",
          "columns": [
            {
              "expression": "salon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "vendors_status_idx": {
          "name": "vendors_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "vendors_salon_id_salons_id_fk": {
          "name": "vendors_salon_id_salons_id_fk",
          "tableFrom": "vendors",
          "tableTo": "salons",
          "columnsFrom": [
            "salon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}